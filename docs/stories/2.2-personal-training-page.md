# Story 2.2: Personal Training Landing Page

Status: Ready for Review

## Story
**As a** frontend engineer,  
**I want** to build the `/personal-training` page with premium coaching messaging,  
**so that** prospects understand the 1:1 offering and convert via Start 1:1 CTAs.

## Acceptance Criteria
1. `/personal-training` includes hero, "Built for your goals" three-card section, InBody callout, four-step process grid, coach showcase, testimonials, and CTA bar matching the handoff structure.
2. New supporting components (`InfoCards`, `InBodyCallout`, `StepsGrid`, `TestimonialStrip`) are responsive, accessible, and reuse design tokens; coach grid links to `/coaches/[slug]` entries with valid data sourced from `docs/architecture/content-coaches.md`.
3. Primary/secondary CTAs (`Start 1:1`, `Get Day Pass`, membership link) function correctly, carry `data-cta` values, and maintain contrast across light/dark sections.
4. Content placeholders (copy, imagery) are sourced from content collections or fixtures with clear TODO markers for future content pipeline handoff.

## Tasks / Subtasks
- [x] Implement `/personal-training` route composing sections per page plan with existing layout primitives (AC 1)
- [x] Create reusable `InfoCards` component for three-pillar grid with icon/image support and DS spacing (AC 1, AC 2)
- [x] Build `InBodyCallout` component (image + copy layout) including CTA to `/membership` and responsive stacking (AC 1, AC 2, AC 3)
- [x] Implement four-step `StepsGrid` with numbered badges, accessible semantics, and reduced-motion friendly transitions (AC 1, AC 2)
- [x] Integrate coach grid leveraging `/coaches` content spec in `docs/architecture/content-coaches.md`; add fallback state until data available (AC 1, AC 2, AC 4)
- [x] Add testimonial strip component accepting structured props for quotes/images and placeholder data file (AC 1, AC 2, AC 4)
- [x] Instrument CTAs with `data-cta` slugs (`personal-training-start`, etc.) and ensure analytics helper coverage (AC 3)
- [x] Document component APIs in README or component docs for future reuse on other pages (AC 2, AC 4)

## Dev Notes
- Align copy/section order with `page_plan/personal_training_page_different_breed.md` and design tokens from Story 1.5.
- Pending assets (InBody photography, testimonials) can use temporary placeholders flagged in TODO comments for content team.
- Hero should support video or image backgrounds similar to Story 1.7 implementation.
- Consider centralizing testimonial data in `src/content/testimonials/` for reuse across pages.
- Ensure coaches section gracefully handles fewer than three entries (responsive stacking, alt text on portraits).
- Use bios and focus tags from `docs/architecture/content-coaches.md` for initial seed data; keep mapping between slugs and `/coaches` collection consistent.

### Testing
- Component-level tests for CTA tracking payloads and layout snapshot where feasible.
- Manual QA: verify responsive layout at key breakpoints (360px, 768px, 1280px), link navigation, and keyboard navigation order.
- Run `pnpm lint`, `pnpm test`, and `pnpm build` to ensure stability.

## Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-02-17 | v0.1 | Initial draft created from Sprint 2 ticket S2-2 | PM |

## Dev Agent Record
### Agent Model Used
OpenAI GPT-5 (Codex)


### Debug Log References

- pnpm test (pass)
- pnpm test -- (initial attempt blocked by sandbox worker shutdown; reran with elevated permissions)
- pnpm build
- pnpm lint (script not defined)


### Completion Notes List

- Added `src/content/personalTraining.ts` to centralize InfoCards, steps, coach highlights, and testimonial seed data aligned with architecture spec.
- Implemented reusable `InfoCards`, `InBodyCallout`, `StepsGrid`, `CoachGrid`, and `TestimonialStrip` components with accessible semantics and design token styling.
- Composed `/personal-training` route with hero, info cards, InBody callout, steps grid, coach showcase, testimonial strip, sticky mobile CTA, and closing CTA bar with analytics instrumentation.
- Added server-compatible Formspree CTA hooks and documented component usage plus TODO guidance in `README.md`.
- Created unit tests (`tests/unit/personal-training.test.ts`) verifying personal training content integrity.
- Rebuilt `CoachGrid` to present first-name portrait tiles with hover/focus overlay revealing details, tags, and CTA while keeping semantic HTML and keyboard support.
- Adjusted coach tiles for edge-to-edge top-aligned photography, swapped updated PNG headshots for the full roster (Michelle, Don, Joe, Glenda, Matthew, Ricardo, Daniel, Carlos, Aadám, Pablo, Coach D.R.E.D.), and added subtle hover zoom to portraits.
- Polished personal training visuals with gradient InfoCards, glassmorphism testimonials, patterned hero overlay, refreshed InBody grid texture, and section dividers for smoother flow.
- Introduced `src/styles/premium-effects.module.css` with reusable pattern, card, and divider utilities plus new design tokens for premium surface treatments to accelerate styling on future pages.


### File List

- src/pages/personal-training.astro
- src/content/personalTraining.ts
- src/components/InfoCards.astro
- src/components/InfoCards.module.css
- src/components/InBodyCallout.astro
- src/components/InBodyCallout.module.css
- src/components/StepsGrid.astro
- src/components/StepsGrid.module.css
- src/components/CoachGrid.astro
- src/components/CoachGrid.module.css
- src/components/TestimonialStrip.astro
- src/components/TestimonialStrip.module.css
- src/styles/personal-training.module.css
- tests/unit/personal-training.test.ts
- README.md

## QA Results

### Review Date: 2025-10-22

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment
- Page composition matches the handoff: hero, sticky CTA, InfoCards, InBody experience, steps, coach grid, testimonials, and final CTA bar all render with the expected data sources.
- New premium utility module (`src/styles/premium-effects.module.css`) keeps gradients, patterns, and hover treatments consistent across components, which will ease reuse on upcoming pages.
- Testimonial quotes render both the decorative pseudo-element and the inline curly quotes (e.g., `“`…`”`). Recommend dropping the inline quotes so the large decorative mark is the single visual cue. *(Severity: Low)*

### Test Coverage & Traceability
- **AC1 & AC2:** Manual review plus `tests/unit/personal-training.test.ts` confirm the required content arrays exist and components consume them; layout semantics use `role="list"`/`article` with headings and IDs for accessibility.
- **AC3:** Manually verified every CTA (`Hero`, sticky button, InBody motion links, CTA bar, coach cards) carries the specified `data-cta` slug. No automated regression guard exists yet—consider adding a DOM-level smoke test to snapshot the CTA attributes. *(Severity: Low)*
- **AC4:** Testimonials and other provisional copy surface TODO messaging from the content module, satisfying the placeholder requirement for the content handoff.
- Full suite (`pnpm test`) passes (16 tests across API and content checks).

### NFR Assessment
- **Performance:** Sections remain mostly static Astro output; the single React `InBodySection` island lazy-loads via `client:load`, keeping main-thread work minimal.
- **Accessibility:** Cards expose semantic roles, CTAs retain focus styles, and imagery includes descriptive alt text; no blocking issues observed.
- **Maintainability:** Centralized premium styles reduce duplication; data-driven content module keeps the page ready for future reuse.

### Risks & Recommendations
- Add an integration or component test that asserts critical CTA `data-cta` attributes to prevent future regressions in analytics wiring. *(Severity: Low — Suggested owner: dev)*
- Update testimonial rendering to rely on either the pseudo-element or inline quotes (not both) to avoid duplicate glyphs. *(Severity: Low — Suggested owner: dev)*

### Gate Decision
- **Status:** PASS
- **Next Step Recommendation:** Move story to “Ready for Done” after addressing low-severity polish items as bandwidth allows.
