---
import CTAButton from './CTAButton.astro';
import styles from './InBodyCallout.module.css';

// Import InBody images
import inbodyMachine from '../assets/inbody-app/inbody-380.webp?url';
import inbodyLogo from '../assets/inbody-app/inbody-logo.webp?url';
import phoneApp from '../assets/inbody-app/phone-app-white.webp?url';

interface Props {
  eyebrow?: string;
  heading: string;
  body: string[];
  ctaLabel: string;
  ctaHref: string;
  ctaDataId: string;
}

const {
  eyebrow,
  heading,
  body,
  ctaLabel,
  ctaHref,
  ctaDataId,
} = Astro.props;

const sectionId = `inbody-${heading.toLowerCase().replace(/[^a-z0-9]+/g, '-')}`;
---

<section class={styles.section} aria-labelledby="inbody-heading">
  <div class={styles.container}>
    <div class={styles.grid}>
      <!-- Left: Image with overlay metrics -->
      <div class={styles.imageSection}>
        <div class={styles.imageContainer}>
          <img 
            src={inbodyMachine} 
            alt="InBody 380 body composition analysis machine" 
            class={styles.machineImage}
          />
          <!-- Floating metrics overlay -->
          <div class={styles.metricsOverlay}>
            <div class={`${styles.metricTag} ${styles.metricTag1}`}>
              <span class={styles.metricValue}>+5 lb</span>
              <span class={styles.metricLabel}>muscle gain</span>
            </div>
            <div class={`${styles.metricTag} ${styles.metricTag2}`}>
              <span class={styles.metricValue}>-4%</span>
              <span class={styles.metricLabel}>body fat</span>
            </div>
            <div class={`${styles.metricTag} ${styles.metricTag3}`}>
              <span class={styles.metricValue}>45 sec</span>
              <span class={styles.metricLabel}>scan time</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: Content -->
      <div class={styles.contentSection}>
        <h2 id="inbody-heading" class={styles.heading}>
          Train with Data, Not Guesswork.
        </h2>
        
        <p class={styles.description}>
          Every InBody scan gives your coach precise numbers on muscle, fat, and water balance â€” so every training block is evidence-based.
        </p>

        <!-- Metrics grid -->
        <ul class={styles.metricsGrid}>
          <li class={styles.metricItem}>
            <span class={styles.metricNumber}>+5 lb</span>
            <span class={styles.metricText}>average muscle gain</span>
          </li>
          <li class={styles.metricItem}>
            <span class={styles.metricNumber}>-4%</span>
            <span class={styles.metricText}>average body-fat loss</span>
          </li>
          <li class={styles.metricItem}>
            <span class={styles.metricNumber}>45 sec</span>
            <span class={styles.metricText}>scan time</span>
          </li>
        </ul>

        <!-- CTA buttons -->
        <div class={styles.ctaGroup}>
          <CTAButton
            href="/contact"
            dataCta="inbody-book-scan"
            ariaLabel="Book an InBody scan"
            class={styles.primaryCta}
          >
            Book a Scan
          </CTAButton>
          <CTAButton
            href="/membership"
            dataCta="inbody-see-memberships"
            ariaLabel="View membership options"
            class={styles.secondaryCta}
          >
            See Memberships
          </CTAButton>
        </div>
      </div>
    </div>
  </div>
</section>
